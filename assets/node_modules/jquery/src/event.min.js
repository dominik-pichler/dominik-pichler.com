define(["jquery/src/core","./var/document","./var/documentElement","./var/isFunction","./var/rnothtmlwhite","./var/rcheckableType","./var/slice","./data/var/acceptData","./data/var/dataPriv","./core/nodeName","./core/init","./selector"],function(h,k,s,b,r,n,m,p,i,a){var j=/^key/,c=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,d=/^([^.]*)(?:\.(.+)|)/;function o(){return true}function f(){return false}function q(u,t){return(u===e())===(t==="focus")}function e(){try{return k.activeElement}catch(t){}}function g(y,v,t,z,x,u){var A,w;if(typeof v==="object"){if(typeof t!=="string"){z=z||t;t=undefined}for(w in v){g(y,w,t,z,v[w],u)}return y}if(z==null&&x==null){x=t;z=t=undefined}else{if(x==null){if(typeof t==="string"){x=z;z=undefined}else{x=z;z=t;t=undefined}}}if(x===false){x=f}else{if(!x){return y}}if(u===1){A=x;x=function(B){h().off(B);return A.apply(this,arguments)};x.guid=A.guid||(A.guid=h.guid++)}return y.each(function(){h.event.add(this,v,x,z,t)})}h.event={global:{},add:function(y,D,K,A,z){var w,C,B,J,I,H,F,x,G,u,v,E=i.get(y);if(!p(y)){return}if(K.handler){w=K;K=w.handler;z=w.selector}if(z){h.find.matchesSelector(s,z)}if(!K.guid){K.guid=h.guid++}if(!(J=E.events)){J=E.events=Object.create(null)}if(!(C=E.handle)){C=E.handle=function(t){return typeof h!=="undefined"&&h.event.triggered!==t.type?h.event.dispatch.apply(y,arguments):undefined}}D=(D||"").match(r)||[""];I=D.length;while(I--){B=d.exec(D[I])||[];G=v=B[1];u=(B[2]||"").split(".").sort();if(!G){continue}F=h.event.special[G]||{};G=(z?F.delegateType:F.bindType)||G;F=h.event.special[G]||{};H=h.extend({type:G,origType:v,data:A,handler:K,guid:K.guid,selector:z,needsContext:z&&h.expr.match.needsContext.test(z),namespace:u.join(".")},w);if(!(x=J[G])){x=J[G]=[];x.delegateCount=0;if(!F.setup||F.setup.call(y,A,u,C)===false){if(y.addEventListener){y.addEventListener(G,C)}}}if(F.add){F.add.call(y,H);if(!H.handler.guid){H.handler.guid=K.guid}}if(z){x.splice(x.delegateCount++,0,H)}else{x.push(H)}h.event.global[G]=true}},remove:function(x,D,K,y,C){var A,z,B,J,I,H,F,w,G,u,v,E=i.hasData(x)&&i.get(x);if(!E||!(J=E.events)){return}D=(D||"").match(r)||[""];I=D.length;while(I--){B=d.exec(D[I])||[];G=v=B[1];u=(B[2]||"").split(".").sort();if(!G){for(G in J){h.event.remove(x,G+D[I],K,y,true)}continue}F=h.event.special[G]||{};G=(y?F.delegateType:F.bindType)||G;w=J[G]||[];B=B[2]&&new RegExp("(^|\\.)"+u.join("\\.(?:.*\\.|)")+"(\\.|$)");z=A=w.length;while(A--){H=w[A];if((C||v===H.origType)&&(!K||K.guid===H.guid)&&(!B||B.test(H.namespace))&&(!y||y===H.selector||y==="**"&&H.selector)){w.splice(A,1);if(H.selector){w.delegateCount--}if(F.remove){F.remove.call(x,H)}}}if(z&&!w.length){if(!F.teardown||F.teardown.call(x,u,E.handle)===false){h.removeEvent(x,G,E.handle)}delete J[G]}}if(h.isEmptyObject(J)){i.remove(x,"handle events")}},dispatch:function(v){var y,x,z,u,D,C,B=new Array(arguments.length),t=h.event.fix(v),w=(i.get(this,"events")||Object.create(null))[t.type]||[],A=h.event.special[t.type]||{};B[0]=t;for(y=1;y<arguments.length;y++){B[y]=arguments[y]}t.delegateTarget=this;if(A.preDispatch&&A.preDispatch.call(this,t)===false){return}C=h.event.handlers.call(this,t,w);y=0;while((u=C[y++])&&!t.isPropagationStopped()){t.currentTarget=u.elem;x=0;while((D=u.handlers[x++])&&!t.isImmediatePropagationStopped()){if(!t.rnamespace||D.namespace===false||t.rnamespace.test(D.namespace)){t.handleObj=D;t.data=D.data;z=((h.event.special[D.origType]||{}).handle||D.handler).apply(u.elem,B);if(z!==undefined){if((t.result=z)===false){t.preventDefault();t.stopPropagation()}}}}}if(A.postDispatch){A.postDispatch.call(this,t)}return t.result},handlers:function(t,v){var z,B,u,w,x,A=[],y=v.delegateCount,C=t.target;if(y&&C.nodeType&&!(t.type==="click"&&t.button>=1)){for(;C!==this;C=C.parentNode||this){if(C.nodeType===1&&!(t.type==="click"&&C.disabled===true)){w=[];x={};for(z=0;z<y;z++){B=v[z];u=B.selector+" ";if(x[u]===undefined){x[u]=B.needsContext?h(u,this).index(C)>-1:h.find(u,this,null,[C]).length}if(x[u]){w.push(B)}}if(w.length){A.push({elem:C,handlers:w})}}}}C=this;if(y<v.length){A.push({elem:C,handlers:v.slice(y)})}return A},addProp:function(t,u){Object.defineProperty(h.Event.prototype,t,{enumerable:true,configurable:true,get:b(u)?function(){if(this.originalEvent){return u(this.originalEvent)}}:function(){if(this.originalEvent){return this.originalEvent[t]}},set:function(v){Object.defineProperty(this,t,{enumerable:true,configurable:true,writable:true,value:v})}})},fix:function(t){return t[h.expando]?t:new h.Event(t)},special:{load:{noBubble:true},click:{setup:function(u){var t=this||u;if(n.test(t.type)&&t.click&&a(t,"input")){l(t,"click",o)}return false},trigger:function(u){var t=this||u;if(n.test(t.type)&&t.click&&a(t,"input")){l(t,"click")}return true},_default:function(t){var u=t.target;return n.test(u.type)&&u.click&&a(u,"input")&&i.get(u,"click")||a(u,"a")}},beforeunload:{postDispatch:function(t){if(t.result!==undefined&&t.originalEvent){t.originalEvent.returnValue=t.result}}}}};function l(u,t,v){if(!v){if(i.get(u,t)===undefined){h.event.add(u,t,o)}return}i.set(u,t,false);h.event.add(u,t,{namespace:false,handler:function(z){var x,w,y=i.get(this,t);if((z.isTrigger&1)&&this[t]){if(!y.length){y=m.call(arguments);i.set(this,t,y);x=v(this,t);this[t]();w=i.get(this,t);if(y!==w||x){i.set(this,t,false)}else{w={}}if(y!==w){z.stopImmediatePropagation();z.preventDefault();return w.value}}else{if((h.event.special[t]||{}).delegateType){z.stopPropagation()}}}else{if(y.length){i.set(this,t,{value:h.event.trigger(h.extend(y[0],h.Event.prototype),y.slice(1),this)});z.stopImmediatePropagation()}}}})}h.removeEvent=function(u,t,v){if(u.removeEventListener){u.removeEventListener(t,v)}};h.Event=function(u,t){if(!(this instanceof h.Event)){return new h.Event(u,t)}if(u&&u.type){this.originalEvent=u;this.type=u.type;this.isDefaultPrevented=u.defaultPrevented||u.defaultPrevented===undefined&&u.returnValue===false?o:f;this.target=(u.target&&u.target.nodeType===3)?u.target.parentNode:u.target;this.currentTarget=u.currentTarget;this.relatedTarget=u.relatedTarget}else{this.type=u}if(t){h.extend(this,t)}this.timeStamp=u&&u.timeStamp||Date.now();this[h.expando]=true};h.Event.prototype={constructor:h.Event,isDefaultPrevented:f,isPropagationStopped:f,isImmediatePropagationStopped:f,isSimulated:false,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=o;if(t&&!this.isSimulated){t.preventDefault()}},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=o;if(t&&!this.isSimulated){t.stopPropagation()}},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=o;if(t&&!this.isSimulated){t.stopImmediatePropagation()}this.stopPropagation()}};h.each({altKey:true,bubbles:true,cancelable:true,changedTouches:true,ctrlKey:true,detail:true,eventPhase:true,metaKey:true,pageX:true,pageY:true,shiftKey:true,view:true,"char":true,code:true,charCode:true,key:true,keyCode:true,button:true,buttons:true,clientX:true,clientY:true,offsetX:true,offsetY:true,pointerId:true,pointerType:true,screenX:true,screenY:true,targetTouches:true,toElement:true,touches:true,which:function(u){var t=u.button;if(u.which==null&&j.test(u.type)){return u.charCode!=null?u.charCode:u.keyCode}if(!u.which&&t!==undefined&&c.test(u.type)){if(t&1){return 1}if(t&2){return 3}if(t&4){return 2}return 0}return u.which}},h.event.addProp);h.each({focus:"focusin",blur:"focusout"},function(u,t){h.event.special[u]={setup:function(){l(this,u,q);return false},trigger:function(){l(this,u);return true},delegateType:t}});h.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(u,t){h.event.special[u]={delegateType:t,bindType:t,handle:function(x){var v,z=this,y=x.relatedTarget,w=x.handleObj;if(!y||(y!==z&&!h.contains(z,y))){x.type=w.origType;v=w.handler.apply(this,arguments);x.type=t}return v}}});h.fn.extend({on:function(u,t,w,v){return g(this,u,t,w,v)},one:function(u,t,w,v){return g(this,u,t,w,v,1)},off:function(v,t,x){var u,w;if(v&&v.preventDefault&&v.handleObj){u=v.handleObj;h(v.delegateTarget).off(u.namespace?u.origType+"."+u.namespace:u.origType,u.selector,u.handler);return this}if(typeof v==="object"){for(w in v){this.off(w,t,v[w])}return this}if(t===false||typeof t==="function"){x=t;t=undefined}if(x===false){x=f}return this.each(function(){h.event.remove(this,v,x,t)})}});return h});