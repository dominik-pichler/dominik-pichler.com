define(["jquery/src/core","./var/getProto","./var/indexOf","./traversing/var/dir","./traversing/var/siblings","./traversing/var/rneedsContext","./core/nodeName","./core/init","./traversing/findFilter","./selector"],function(j,a,f,e,h,b,g){var d=/^(?:parents|prev(?:Until|All))/,c={children:true,contents:true,next:true,prev:true};j.fn.extend({has:function(n){var m=j(n,this),k=m.length;return this.filter(function(){var l=0;for(;l<k;l++){if(j.contains(this,m[l])){return true}}})},closest:function(q,p){var r,o=0,n=this.length,k=[],m=typeof q!=="string"&&j(q);if(!b.test(q)){for(;o<n;o++){for(r=this[o];r&&r!==p;r=r.parentNode){if(r.nodeType<11&&(m?m.index(r)>-1:r.nodeType===1&&j.find.matchesSelector(r,q))){k.push(r);break}}}}return this.pushStack(k.length>1?j.uniqueSort(k):k)},index:function(k){if(!k){return(this[0]&&this[0].parentNode)?this.first().prevAll().length:-1}if(typeof k==="string"){return f.call(j(k),this[0])}return f.call(this,k.jquery?k[0]:k)},add:function(k,l){return this.pushStack(j.uniqueSort(j.merge(this.get(),j(k,l))))},addBack:function(k){return this.add(k==null?this.prevObject:this.prevObject.filter(k))}});function i(l,k){while((l=l[k])&&l.nodeType!==1){}return l}j.each({parent:function(l){var k=l.parentNode;return k&&k.nodeType!==11?k:null},parents:function(k){return e(k,"parentNode")},parentsUntil:function(k,l,m){return e(k,"parentNode",m)},next:function(k){return i(k,"nextSibling")},prev:function(k){return i(k,"previousSibling")},nextAll:function(k){return e(k,"nextSibling")},prevAll:function(k){return e(k,"previousSibling")},nextUntil:function(k,l,m){return e(k,"nextSibling",m)},prevUntil:function(k,l,m){return e(k,"previousSibling",m)},siblings:function(k){return h((k.parentNode||{}).firstChild,k)},children:function(k){return h(k.firstChild)},contents:function(k){if(k.contentDocument!=null&&a(k.contentDocument)){return k.contentDocument}if(g(k,"template")){k=k.content||k}return j.merge([],k.childNodes)}},function(k,l){j.fn[k]=function(o,n){var m=j.map(this,l,o);if(k.slice(-5)!=="Until"){n=o}if(n&&typeof n==="string"){m=j.filter(n,m)}if(this.length>1){if(!c[k]){j.uniqueSort(m)}if(d.test(k)){m.reverse()}}return this.pushStack(m)}});return j});